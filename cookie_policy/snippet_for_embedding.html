<div id="translation"></div>
<script>

  function getWebsiteLanguage() {
      const documentLang = document.documentElement.lang;
      if (documentLang) {
          return documentLang;
      }
      
      // Fallback to browser language
      return navigator.language || navigator.userLanguage;
  }

  // Get the user's preferred language from the browser or your website's settings
  const userLanguage = getWebsiteLanguage();
  console.log("Language: " + userLanguage);

  // Map language codes to corresponding file names or Termly embed code (for English)
  const languageMap = {
    'nl': 'NL.html',
    'fr': 'FR.html',
    'de': 'DE.html',
    'pl': 'PL.html',
    'en': '<div name="termly-embed" data-id="2444401a-9eab-413b-bae6-a65ba26556e8"></div>'
  };

  // Determine the content to embed based on the user's language
  const contentToEmbed = languageMap[userLanguage.split('-')[0]];
  console.log("Content to embed: " + contentToEmbed);

  // If it's an HTML file, fetch it from GitHub; otherwise, use the content directly
  if (contentToEmbed.endsWith('.html')) {
    const url = `https://raw.githubusercontent.com/EmberlightBE/Policies/main/cookie_policy/${contentToEmbed}`;
    fetch(url)
      .then(response => response.text())
      .then(html => {
        document.getElementById('translation').innerHTML = html;
      });
  } else {
    document.getElementById('translation').innerHTML = languageMap['en'];
  }
</script>
<script type="text/javascript">(function(d, s, id) {
  var js, tjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "https://app.termly.io/embed-policy.min.js";
  tjs.parentNode.insertBefore(js, tjs);
}(document, 'script', 'termly-jssdk'));</script>
